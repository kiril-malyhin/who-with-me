<div class="home">
    <div class="progress-bar-align" *ngIf="value !== 100">
        <label>{{'searchWaitMessage' | translate}}</label>
        <p-progressBar [value]="value"></p-progressBar>
    </div>

    <div class="col-md-2" style="text-align: center;" *ngIf="value === 100">
        <div class="form-group" style="margin-bottom: -10px">
            <label class="col-form-label filter-label" style="font-size: 20px;">{{'sortingTitle' | translate}}</label>
        </div>
        <div class="form-group">
            <label class="col-form-label pointer filter-label" style="display: block;">{{ 'destinationDate' | translate }}</label>
            <p-calendar [(ngModel)]="date" [minDate]="minDate" [maxDate]="maxDate" [readonlyInput]="true" dateFormat="dd.mm.yy"></p-calendar>
        </div>
        <div class="form-group">
            <label class="col-form-label pointer filter-label">{{ 'destinationTime' | translate }}</label>
            <p-slider [(ngModel)]="rangeTime" [style]="" [range]="true" [min]=minTime [max]="maxTime" style="padding-top:15px;"></p-slider>
            {{rangeTime}}
        </div>
        <div class="form-group">
            <label class="col-form-label pointer filter-label">{{ 'destinationPrice' | translate }}</label>
            <p-slider [(ngModel)]="rangePrice" [style]="" [range]="true" [min]=minPrice [max]="maxPrice"  style="padding-top:15px;"></p-slider>
            {{rangePrice}}
        </div>
        <div class="form-group">
            <label class="col-form-label pointer filter-label">{{ 'carType' | translate }}</label>
            <div class="ui-g" style="margin-bottom:10px; text-align: left">
                <div class="ui-g-12"><p-radioButton name="groupExperience" value="standard" label="{{ 'standard' | translate }}" [(ngModel)]="standard"></p-radioButton></div>
                <div class="ui-g-12"><p-radioButton name="groupExperience" value="premium" label="{{ 'premium' | translate }}" [(ngModel)]="premium"></p-radioButton></div>
                <div class="ui-g-12"><p-radioButton name="groupExperience" value="luxury" label="{{ 'luxury' | translate }}" [(ngModel)]="luxury"></p-radioButton></div>
                <div class="ui-g-12"><p-radioButton name="groupExperience" value="noMatterCarType" label="{{ 'allChoose' | translate }}" [(ngModel)]="noMatterCarType"></p-radioButton></div>
            </div>
        </div>
        <div class="form-group">
            <label class="col-form-label pointer filter-label">{{ 'experience' | translate }}</label>
            <div class="ui-g" style="margin-bottom:10px; text-align: left">
                <div class="ui-g-12"><p-radioButton name="groupCarType" value="junior" label="{{ 'junior' | translate }}" [(ngModel)]="junior"></p-radioButton></div>
                <div class="ui-g-12"><p-radioButton name="groupCarType" value="senior" label="{{ 'senior' | translate }}" [(ngModel)]="senior"></p-radioButton></div>
                <div class="ui-g-12"><p-radioButton name="groupCarType" value="expert" label="{{ 'expert' | translate }}" [(ngModel)]="expert"></p-radioButton></div>
                <div class="ui-g-12"><p-radioButton name="groupCarType" value="noMatterExperience" label="{{ 'allChoose' | translate }}" [(ngModel)]="noMatterExperience"></p-radioButton></div>
            </div>
        </div>
        <div class="form-group">
            <button class="btn-find" (click)="sort()">{{ 'searchResult' | translate }}</button>
        </div>
    </div>
    <div class="col-md-10" *ngIf="value === 100">
        <p-dataList [value]="users" [paginator]="true" [rows]="5" [style]="{'height': '100%'}">
            <p-header>
                {{'listOfTrips' | translate}} ({{numberOfResultTrips}}) {{'tableTitleFrom' | translate}} {{trip.from}} {{'tableTitleTo' | translate}} {{trip.to}}
                <span style="float: right">
                    <input class="destinationReverseInput" placeholder="{{'destinationFrom' | translate}}" value="{{tripFrom}}">
                    <button class="btn btn-sm btn-info" (click)="reverseDestination()"><-></button>
                    <input class="destinationReverseInput" placeholder="{{'destinationTo' | translate}}" value="{{tripTo}}">
                </span>
            </p-header>
            <template let-user pTemplate="item">
                <div class="ui-grid ui-grid-responsive ui-fluid" style="font-size:16px;padding:20px;border-bottom:1px solid #D5D5D5;text-align: left">
                    <div class="ui-grid-row">
                        <div class="ui-grid-col-3" style="text-align:center">
                            <img src="{{user.photo}}" (click)="selectUser(user)" style="cursor:pointer;">
                        </div>
                        <div class="ui-grid-col-9">
                            <div class="ui-grid ui-grid-responsive ui-fluid">
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2">{{'destinationFrom' | translate}}: </div>
                                    <div class="ui-grid-col-2">{{trip.from}}</div>
                                </div>
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2">{{'destinationTo' | translate}}: </div>
                                    <div class="ui-grid-col-2">{{trip.to}}</div>
                                </div>
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2">{{'destinationDate' | translate}}: </div>
                                    <div class="ui-grid-col-2">{{trip.date}}</div>
                                </div>
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2">{{'destinationTime' | translate}}: </div>
                                    <div class="ui-grid-col-2">{{trip.time}}</div>
                                </div>
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2">{{'carType' | translate}}: </div>
                                    <div class="ui-grid-col-2">{{user.carType}}</div>
                                </div>
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2">{{'destinationPrice' | translate}}: </div>
                                    <div class="ui-grid-col-2">{{trip.price}}</div>
                                </div>
                                <div class="ui-grid-row">
                                    <div class="ui-grid-col-2">{{'destinationSeatNumber' | translate}}: </div>
                                    <div class="ui-grid-col-2">{{trip.seatsNumber}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </template>
        </p-dataList>

        <p-dialog header="{{'driverDetails' | translate}}" [(visible)]="displayDialog" [responsive]="true" showEffect="fade" [modal]="true" width="400" (onAfterHide)="onDialogHide()">
            <div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="selectedUser" style="font-size:16px;text-align:right;padding-left:20px; padding-right: 20px">
                <div class="ui-grid-row">
                    <div class="ui-grid-col-12" style="text-align:center; padding-bottom: 10px">
                        <img src="{{selectedUser.photo}}">
                    </div>
                </div>
                <div class="ui-grid-row">
                    <div class="driver-info-left">{{'username' | translate}}: </div>
                    <div>{{selectedUser.username}}</div>
                </div>
                <div class="ui-grid-row">
                    <div class="driver-info-left">{{'mail' | translate}}: </div>
                    <div>{{selectedUser.mail}}</div>
                </div>
                <div class="ui-grid-row">
                    <div class="driver-info-left">{{'phone' | translate}}: </div>
                    <div>{{selectedUser.phone}}</div>
                </div>
                <div class="ui-grid-row">
                    <div class="driver-info-left">{{'carType' | translate}}: </div>
                    <div>{{selectedUser.carType}}</div>
                </div>
                <div class="ui-grid-row">
                    <div class="driver-info-left">{{'experience' | translate}}: </div>
                    <div>{{selectedUser.experience}}</div>
                </div>
            </div>
        </p-dialog>
    </div>
</div>